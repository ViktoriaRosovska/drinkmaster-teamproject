{"version":3,"file":"static/js/853.bda2bd1d.chunk.js","mappings":"6SAWe,SAASA,IAEtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjBC,GAA0BC,EAAAA,EAAAA,KAAlBC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OACfC,GAAsCC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAI5BI,EAAe,SAAAC,GACnBF,EAAeE,EACjB,EAEMC,EAAaC,KAAKC,KAAKZ,EANP,GA0BtB,OAlBAa,EAAAA,EAAAA,YAAU,WACe,KAAb,OAANZ,QAAM,IAANA,OAAM,EAANA,EAAQa,SAAgBR,EAAc,GACxCE,EAAaF,EAAc,EAG/B,GAAG,CAACL,KAEJY,EAAAA,EAAAA,YAAU,WACRnB,EAAS,SAADqB,OAAUT,GAEpB,GAAG,CAACA,KAEJO,EAAAA,EAAAA,YAAU,WACRjB,GAASoB,EAAAA,EAAAA,IAAa,CAAEC,KAAMX,EAAaY,MArBvB,KAsBjBC,SACAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAM,GACtC,GAAG,CAACzB,EAAUU,EAAaN,EAxBL,KA2BpBwB,EAAAA,EAAAA,MAACC,EAAAA,EAAa,CAAAC,SAAA,EACZC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,MAAM,cAChB7B,EAAQ,GACP2B,EAAAA,EAAAA,KAACG,EAAAA,EAAS,CACRC,WAAY9B,EACZO,aAAcA,EACdF,YAAaA,KAGfqB,EAAAA,EAAAA,KAACK,EAAAA,EAAQ,IAGVtB,EAAa,IACZiB,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CACR3B,YAAaA,EACbI,WAAYA,EACZF,aAAcA,EACd0B,KAAM,iBAKhB,C","sources":["views/MyDrinksPage/MyDrinksPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport DrinkList from 'components/DrinkList/DrinkList';\nimport PageTitle from 'components/PageTitle/PageTitle';\nimport { MainContainer } from 'styles/App.styled';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useDrink } from 'hooks/useDrink';\nimport { getOwnDrinks } from 'redux/drinks/drinksOperations';\nimport NotFound from 'components/NotFound/NotFound';\nimport Paginator from 'components/Paginator/Paginator';\n\nexport default function MyDrinksPage() {\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { total, drinks } = useDrink();\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const drinksPerPage = 6;\n\n  const onPageChange = pageNum => {\n    setCurrentPage(pageNum);\n  };\n\n  const totalPages = Math.ceil(total / drinksPerPage);\n\n  useEffect(() => {\n    if (drinks?.length === 0 && currentPage > 1) {\n      onPageChange(currentPage - 1);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [drinks]);\n\n  useEffect(() => {\n    navigate(`?page=${currentPage}`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPage]);\n\n  useEffect(() => {\n    dispatch(getOwnDrinks({ page: currentPage, limit: drinksPerPage }))\n      .unwrap()\n      .catch(error => console.log(error));\n  }, [dispatch, currentPage, total, drinksPerPage]);\n\n  return (\n    <MainContainer>\n      <PageTitle title=\"My drinks\" />\n      {total > 0 ? (\n        <DrinkList\n          drinksData={drinks}\n          onPageChange={onPageChange}\n          currentPage={currentPage}\n        />\n      ) : (\n        <NotFound />\n      )}\n\n      {totalPages > 1 && (\n        <Paginator\n          currentPage={currentPage}\n          totalPages={totalPages}\n          onPageChange={onPageChange}\n          path={'/favorites'}\n        />\n      )}\n    </MainContainer>\n  );\n}\n"],"names":["MyDrinksPage","navigate","useNavigate","dispatch","useDispatch","_useDrink","useDrink","total","drinks","_useState","useState","_useState2","_slicedToArray","currentPage","setCurrentPage","onPageChange","pageNum","totalPages","Math","ceil","useEffect","length","concat","getOwnDrinks","page","limit","unwrap","catch","error","console","log","_jsxs","MainContainer","children","_jsx","PageTitle","title","DrinkList","drinksData","NotFound","Paginator","path"],"sourceRoot":""}